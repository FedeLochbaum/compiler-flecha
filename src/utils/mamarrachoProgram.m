jump(main)
rtn0:
mov_reg($fun, @fun)
mov_reg($arg, @arg)
mov_reg($r7, $arg)
mov_reg($r6, $r7)
mov_reg(@res, $r6)
return()
main:
alloc($r1, 2)
mov_int($t, 1)
store($r1, 0, $t)
mov_int($t, 42)
store($r1, 1, $t)
mov_reg($G_x, $r1)
alloc($r4, 2)
mov_int($t, 3)
store($r4, 0, $t)
mov_label($t, rtn0)
store($r4, 1, $t)
alloc($r5, 2)
mov_int($t, 1)
store($r5, 0, $t)
mov_int($t, 43)
store($r5, 1, $t)
mov_reg(@fun, $r4)
mov_reg(@arg, $r5)
load($t, $r4, 1)
icall($t)
mov_reg($r2, @res)
load($r3, $r2, 1)
print($r3)
mov_reg($G_main, $r2)
