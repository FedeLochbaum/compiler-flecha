jump(main)
rtn0:
mov_reg($fun, @fun)
mov_reg($arg, @arg)
mov_reg($r9, $arg)
load($r10, $fun, 2)
mov_reg($r8, $r10)
mov_reg(@res, $r8)
return()
rtn1:
mov_reg($fun, @fun)
mov_reg($arg, @arg)
mov_reg($r20, $arg)
mov_reg($r19, $r20)
mov_reg(@res, $r19)
return()
main:
alloc($r1, 2)
mov_int($t, 1)
store($r1, 0, $t)
mov_int($t, 42)
store($r1, 1, $t)
mov_reg($G_x, $r1)
alloc($r6, 3)
mov_int($t, 3)
store($r6, 0, $t)
mov_label($t, rtn0)
store($r6, 1, $t)
store($r6, 2, $r1)
alloc($r7, 2)
mov_int($t, 1)
store($r7, 0, $t)
mov_int($t, 43)
store($r7, 1, $t)
mov_reg(@fun, $r6)
mov_reg(@arg, $r7)
load($t, $r6, 1)
icall($t)
mov_reg($r3, @res)
load($r5, $r3, 1)
print($r5)
alloc($r11, 2)
mov_int($t, 2)
store($r11, 0, $t)
mov_int($t, 10)
store($r11, 1, $t)
load($r13, $r11, 1)
print_char($r13)
alloc($r17, 2)
mov_int($t, 3)
store($r17, 0, $t)
mov_label($t, rtn1)
store($r17, 1, $t)
alloc($r18, 2)
mov_int($t, 1)
store($r18, 0, $t)
mov_int($t, 43)
store($r18, 1, $t)
mov_reg(@fun, $r17)
mov_reg(@arg, $r18)
load($t, $r17, 1)
icall($t)
mov_reg($r14, @res)
load($r16, $r14, 1)
print($r16)
alloc($r15, 2)
mov_int($t, 2)
store($r15, 0, $t)
mov_int($t, 10)
store($r15, 1, $t)
load($r21, $r15, 1)
print_char($r21)
mov_reg($r12, $r15)
mov_reg($r4, $r12)
mov_reg($r2, $r4)
mov_reg($G_main, $r2)
